import c_init(int, name) as init;
import c_print(value) as print;
import c_iprint(int) as iprint;
import c_set_k(name, value, value) as set_k;
import c_calculate(name, value, value, value) as calculate;

sub gauss_method(name src_matrix, name dst_matrix, int N) {
    df K; // коэффициент, чтобы занулить

    for j = 0..(N - 2) {
        for i = (j+1)..(N - 1) {
            set_k(K[j][i], src_matrix[i][j], src_matrix[j][j]);

            for k = 0..(N - 1) {

//                print(K[k][i]);
//                print(src_matrix[i][j]);
//                print(src_matrix[k][j]);

                calculate(dst_matrix[i][k],
                          src_matrix[i][k], 
                          src_matrix[k][k],
                          K[j][i]);
//                print(dst_matrix[i][j]);

            }
        }
    }

//    for i = 0..1 {
//        for j = 0..1 {
//            print(dst_matrix[i][j]);
//        }
//    }
}

sub main() {
	df matrix, dst;

    init(1, matrix[0][0]);
    init(1, matrix[0][1]);
    init(1, matrix[1][0]);
    init(1, matrix[1][1]);

    init(1, dst[0][0]);
    init(1, dst[0][1]);
    init(1, dst[1][0]);
    init(1, dst[1][1]);

    gauss_method(matrix, dst, 2);
}
